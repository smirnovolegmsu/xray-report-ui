# üîç –û—Ç–ª–∞–¥–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏"

## –ü—Ä–æ–±–ª–µ–º–∞

–í–∫–ª–∞–¥–∫–∞ "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏" –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ.

## ‚úÖ –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ

1. **API —Ä–∞–±–æ—Ç–∞–µ—Ç:** ‚úÖ
   - `/api/users` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 8 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - `/api/users/stats` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
   - –î–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ

2. **HTML —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –µ—Å—Ç—å:** ‚úÖ
   - `<div data-pane="users">` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
   - `<table id="usersTable">` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
   - –í–∫–ª–∞–¥–∫–∞ `data-tab="users"` –µ—Å—Ç—å

3. **JavaScript —Ñ—É–Ω–∫—Ü–∏–∏ –µ—Å—Ç—å:** ‚úÖ
   - `loadUsers()` –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞
   - `renderUsers()` –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞  
   - `setTab()` –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞

4. **–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–ª–∏–∫–æ–≤ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:** ‚úÖ
   - `.tab` —ç–ª–µ–º–µ–Ω—Ç—ã –∏–º–µ—é—Ç onclick handlers

## üîß –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

–î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `loadUsers()`:
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ "–ó–∞–≥—Ä—É–∑–∫–∞..." –≤–æ –≤—Ä–µ–º—è fetch

## üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ—Ç–ª–∞–¥–∫–µ

### –®–∞–≥ 1: –û—Ç–∫—Ä—ã—Ç—å DevTools

1. –û—Ç–∫—Ä–æ–π http://127.0.0.1:8787/
2. –ù–∞–∂–º–∏ **F12** (–∏–ª–∏ Ctrl+Shift+I)
3. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Console**

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

–í –∫–æ–Ω—Å–æ–ª–∏ –≤—ã–ø–æ–ª–Ω–∏:

```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –≤–∫–ª–∞–¥–∫–∏ –µ—Å—Ç—å
document.querySelectorAll('.tab')

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –ø–∞–Ω–µ–ª—å users –µ—Å—Ç—å
document.querySelector('[data-pane="users"]')

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ –µ—Å—Ç—å
document.getElementById('usersTable')

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–π –∞–∫—Ç–∏–≤–Ω–æ–π –ø–∞–Ω–µ–ª–∏
document.querySelector('.pane.active')
```

### –®–∞–≥ 3: –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏"

–ö–ª–∏–∫–Ω–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏"** –≤ —à–∞–ø–∫–µ.

–í –∫–æ–Ω—Å–æ–ª–∏ –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:
```
=== loadUsers: START ===
loadUsers: Fetching /api/users...
loadUsers: Users response: {ok: true, users: Array(8)}
loadUsers: Got 8 users
loadUsers: Fetching /api/users/stats...
loadUsers: Stats response: {ok: true, users: Array(7)}
loadUsers: Got stats for 7 users
loadUsers: Calling renderUsers...
renderUsers: called with 8 users
renderUsers: tbody element: <tbody>
renderUsers: rendering 8 users into table
renderUsers: Generated HTML length: XXXX characters
...
=== loadUsers: DONE ===
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç—å –ø–∞–Ω–µ–ª–∏

–ü–æ—Å–ª–µ –∫–ª–∏–∫–∞ –Ω–∞ "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", –≤ –∫–æ–Ω—Å–æ–ª–∏ –≤—ã–ø–æ–ª–Ω–∏:

```javascript
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø–∞–Ω–µ–ª—å –ø–æ–∫–∞–∑–∞–Ω–∞
const pane = document.querySelector('[data-pane="users"]');
console.log('Pane display:', window.getComputedStyle(pane).display);
console.log('Pane classList:', pane.classList.toString());
```

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
- `display: "block"` (–Ω–µ "none")
- `classList` –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å "active"

## üéØ –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ù–∏—á–µ–≥–æ –Ω–µ –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å

**–ü—Ä–∏—á–∏–Ω–∞:** JavaScript –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è  
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –Ω–µ—Ç –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ JS –≤ Network tab

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –û—à–∏–±–∫–∞ "tbody not found"

**–ü—Ä–∏—á–∏–Ω–∞:** –¢–∞–±–ª–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –≤ DOM  
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å HTML —Å—Ç—Ä—É–∫—Ç—É—Ä—É:
```javascript
document.getElementById('usersTable')
document.querySelector('#usersTable tbody')
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ü–∞–Ω–µ–ª—å display: none

**–ü—Ä–∏—á–∏–Ω–∞:** CSS —Å–∫—Ä—ã–≤–∞–µ—Ç –ø–∞–Ω–µ–ª—å  
**–†–µ—à–µ–Ω–∏–µ:** –í –∫–æ–Ω—Å–æ–ª–∏ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:
```javascript
const pane = document.querySelector('[data-pane="users"]');
pane.style.display = 'block';
pane.classList.add('active');
```

### –ü—Ä–æ–±–ª–µ–º–∞ 4: API –æ—à–∏–±–∫–∞

**–ü—Ä–∏—á–∏–Ω–∞:** Backend –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç  
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å:
```bash
curl http://127.0.0.1:8787/api/users
journalctl -u xray-report-ui -f
```

## üìû –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥

**–ü—Ä–∏—à–ª–∏ –º–Ω–µ –í–°–Å —á—Ç–æ –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤ Console –∫–æ–≥–¥–∞ –∫–ª–∏–∫–∞–µ—à—å –Ω–∞ "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏"**

–¢–æ–≥–¥–∞ —è —Ç–æ—á–Ω–æ —É–≤–∏–∂—É –≥–¥–µ –ø—Ä–æ–±–ª–µ–º–∞!

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Ñ–∏–∫—Å (–µ—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç)

–ï—Å–ª–∏ –≤–∫–ª–∞–¥–∫–∞ —Å–æ–≤—Å–µ–º –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –º–æ–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –≤—ã–∑–≤–∞—Ç—å –≤ –∫–æ–Ω—Å–æ–ª–∏:

```javascript
// –ü–æ–∫–∞–∑–∞—Ç—å –ø–∞–Ω–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ
const pane = document.querySelector('[data-pane="users"]');
pane.classList.add('active');
pane.style.display = 'block';

// –°–∫—Ä—ã—Ç—å –¥—Ä—É–≥–∏–µ –ø–∞–Ω–µ–ª–∏
document.querySelectorAll('.pane').forEach(p => {
  if (p !== pane) p.style.display = 'none';
});

// –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
loadUsers();
```

–ï—Å–ª–∏ —ç—Ç–æ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç - –∑–Ω–∞—á–∏—Ç –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `setTab()`.

