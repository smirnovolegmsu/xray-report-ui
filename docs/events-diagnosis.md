# Диагностика страницы "События" (/events)

## Дата: 2026-01-19

## Анализ компонентов

### ✅ Используемые компоненты на странице:

1. **EventsCriticalAlerts** (`events-critical-alerts.tsx`)
   - **Назначение**: Показывает только активные ошибки (за последние 5 минут)
   - **Статус**: ✅ Используется правильно
   - **Дублирование**: НЕТ

2. **EventsTimeline** (`events-timeline.tsx`)
   - **Назначение**: График "События за 24 часов" (stacked bar chart)
   - **Статус**: ⚠️ Используется, но график не отображается
   - **Проблема**: Данные могут не приходить или не рендерятся правильно

3. **EventsTrendAndRepeated** (`events-trend-and-repeated.tsx`)
   - **Назначение**: Показывает тренд ошибок и повторяющиеся проблемы
   - **Статус**: ✅ Используется правильно
   - **Дублирование**: НЕТ

4. **EventsProblematicServices** (`events-problematic-services.tsx`)
   - **Назначение**: Показывает проблемные сервисы с ошибками
   - **Статус**: ✅ Используется правильно
   - **Дублирование**: НЕТ

5. **EventsTable** (`events-table.tsx`)
   - **Назначение**: Таблица всех событий
   - **Статус**: ✅ Используется правильно

6. **EventsStatsSidebar** (`events-stats-sidebar.tsx`)
   - **Назначение**: Статистика в правой боковой панели
   - **Статус**: ✅ Используется правильно

### ❌ НЕ используемые компоненты:

1. **EventsInsights** (`events-insights.tsx`)
   - **Назначение**: Дублирует функциональность EventsTrendAndRepeated + EventsProblematicServices
   - **Проблема**: 
     - Содержит ту же логику расчета тренда
     - Содержит ту же логику повторяющихся проблем
     - Содержит ту же логику проблемных сервисов
     - Показывается только для периодов >= 7 дней
   - **Решение**: УДАЛИТЬ - не используется и дублирует функциональность

## Текущая структура страницы:

```
/events/page.tsx
├── Header (фильтры, поиск)
├── Main Content Area
│   ├── EventsCriticalAlerts (активные ошибки)
│   ├── EventsTimeline (график - НЕ РАБОТАЕТ)
│   ├── Grid 2 колонки:
│   │   ├── EventsTrendAndRepeated (тренд + повторяющиеся)
│   │   └── EventsProblematicServices (проблемные сервисы)
│   └── EventsTable (таблица событий)
└── Right Sidebar
    └── EventsStatsSidebar (статистика)
```

## Проблемы:

1. **EventsInsights** - не используется, но существует и дублирует логику
2. **График EventsTimeline** - не отображается (показывает только легенду и даты)
3. **Layout** - нужно убедиться что две колонки одинакового размера

## План действий:

1. ✅ Удалить EventsInsights (не используется, дублирует функциональность)
2. ⚠️ Исправить график EventsTimeline (проверить данные API и рендеринг)
3. ✅ Проверить layout двух колонок
