# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ—Ä—Ç–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

## üìä –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –æ—Ç–∫—Ä—ã—Ç–æ **10 –ø–æ—Ä—Ç–æ–≤** (–Ω–µ 27, –∫–∞–∫ –º–æ–≥–ª–æ –ø–æ–∫–∞–∑–∞—Ç—å—Å—è - –≤–æ–∑–º–æ–∂–Ω–æ, –≤—ã —Å–º–æ—Ç—Ä–µ–ª–∏ –Ω–∞ –¥—Ä—É–≥–æ–π –≤—ã–≤–æ–¥ –∏–ª–∏ —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ).

### ‚úÖ –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –ø–æ—Ä—Ç—ã (7 —à—Ç—É–∫) - –û–°–¢–ê–í–ò–¢–¨

–≠—Ç–∏ –ø–æ—Ä—Ç—ã **–Ω–µ–æ–±—Ö–æ–¥–∏–º—ã** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

1. **22** - SSH (—É–¥–∞–ª–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø)
2. **53** - DNS (—Å–∏—Å—Ç–µ–º–Ω—ã–π —Å–µ—Ä–≤–∏—Å)
3. **80** - HTTP (–≤–µ–±-—Å–µ—Ä–≤–µ—Ä nginx)
4. **443** - Xray VPN (–æ—Å–Ω–æ–≤–Ω–æ–π VPN –ø–æ—Ä—Ç)
5. **3000** - Next.js Frontend (–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
6. **8787** - Flask Backend API (REST API)
7. **10085** - Xray API (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Xray, —Ç–æ–ª—å–∫–æ localhost)

### üíª –ü–æ—Ä—Ç—ã Cursor Server (3 —à—Ç—É–∫–∏) - –û–ü–¶–ò–û–ù–ê–õ–¨–ù–û

–≠—Ç–∏ –ø–æ—Ä—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Ä–∞–±–æ—Ç—ã Cursor IDE —á–µ—Ä–µ–∑ SSH. –û–Ω–∏ **–±–µ–∑–æ–ø–∞—Å–Ω—ã**, —Ç–∞–∫ –∫–∞–∫ —Å–ª—É—à–∞—é—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ localhost (127.0.0.1) –∏ **–Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑–≤–Ω–µ**:

1. **37011** - Cursor Server Main
2. **40783** - Cursor Extension Host
3. **46705** - Cursor Multiplex Server

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û—Å—Ç–∞–≤–∏—Ç—å, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Cursor –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –ó–∞–∫—Ä—ã—Ç—å, –µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ.

## üîß –í–∞—Ä–∏–∞–Ω—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: –¢–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä (–±–µ–∑–æ–ø–∞—Å–Ω–æ)
```bash
./cleanup-ports.sh --dry-run
```
–ü–æ–∫–∞–∂–µ—Ç, –∫–∞–∫–∏–µ –ø–æ—Ä—Ç—ã –±—É–¥—É—Ç –∑–∞–∫—Ä—ã—Ç—ã, **–±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è**.

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ó–∞–∫—Ä—ã—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ –ø–æ—Ä—Ç—ã
```bash
./cleanup-ports.sh
```
–ó–∞–∫—Ä–æ–µ—Ç —Ç–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ—Ä—Ç—ã –æ—Ç–ª–∞–¥–∫–∏ (–µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å). **–ù–µ –∑–∞—Ç—Ä–æ–Ω–µ—Ç** –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø–æ—Ä—Ç—ã –∏ Cursor Server.

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ó–∞–∫—Ä—ã—Ç—å –ø–æ—Ä—Ç—ã Cursor Server
```bash
./cleanup-ports.sh --kill-cursor
```
‚ö†Ô∏è **–í–ù–ò–ú–ê–ù–ò–ï:** –≠—Ç–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç —Ä–∞–±–æ—Ç—É Cursor —á–µ—Ä–µ–∑ SSH! –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Cursor –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

### –í–∞—Ä–∏–∞–Ω—Ç 4: –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑
```bash
./analyze-ports.sh
```
–ü–æ–∫–∞–∂–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≤—Å–µ—Ö –ø–æ—Ä—Ç–æ–≤ —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏.

### –í–∞—Ä–∏–∞–Ω—Ç 5: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
```bash
./optimize-ports.sh
```
–ü–æ–∫–∞–∂–µ—Ç –≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.

## üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Cursor –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
- ‚úÖ –û—Å—Ç–∞–≤–∏—Ç—å –≤—Å–µ –ø–æ—Ä—Ç—ã –∫–∞–∫ –µ—Å—Ç—å
- ‚úÖ –ü–æ—Ä—Ç—ã Cursor Server –±–µ–∑–æ–ø–∞—Å–Ω—ã (—Ç–æ–ª—å–∫–æ localhost)
- ‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø–æ—Ä—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã

### –ï—Å–ª–∏ –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Cursor:
- ‚úÖ –ó–∞–∫—Ä—ã—Ç—å –ø–æ—Ä—Ç—ã Cursor Server: `./cleanup-ports.sh --kill-cursor`
- ‚úÖ –≠—Ç–æ –æ—Å–≤–æ–±–æ–¥–∏—Ç 3 –ø–æ—Ä—Ç–∞ (37011, 40783, 46705)
- ‚ö†Ô∏è –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ Cursor —á–µ—Ä–µ–∑ SSH —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ –±—É–¥–µ—Ç

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ü—É–±–ª–∏—á–Ω—ã–µ –ø–æ—Ä—Ç—ã (–¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑–≤–Ω–µ):
- **22** (SSH) - –∑–∞—â–∏—â–µ–Ω –ø–∞—Ä–æ–ª–µ–º/–∫–ª—é—á–æ–º
- **80** (HTTP) - –∑–∞—â–∏—â–µ–Ω firewall
- **3000** (Next.js) - –∑–∞—â–∏—â–µ–Ω firewall
- **443** (VPN) - –∑–∞—â–∏—â–µ–Ω firewall

### –õ–æ–∫–∞–ª—å–Ω—ã–µ –ø–æ—Ä—Ç—ã (—Ç–æ–ª—å–∫–æ localhost):
- **53** (DNS) - —Å–∏—Å—Ç–µ–º–Ω—ã–π —Å–µ—Ä–≤–∏—Å
- **8787** (Backend) - —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **10085** (Xray API) - —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **37011, 40783, 46705** (Cursor) - —Ç–æ–ª—å–∫–æ –¥–ª—è SSH-—Ç—É–Ω–Ω–µ–ª—è

**–í—ã–≤–æ–¥:** –í—Å–µ –ø–æ—Ä—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ. –ü–æ—Ä—Ç—ã Cursor Server –Ω–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —É–≥—Ä–æ–∑—ã, —Ç–∞–∫ –∫–∞–∫ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑–≤–Ω–µ.

## üìù –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ—Ä—Ç–æ–≤
```bash
ss -tulpn | grep LISTEN
```

### –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –ø–æ—Ä—Ç–µ
```bash
lsof -i :PORT
# –ù–∞–ø—Ä–∏–º–µ—Ä: lsof -i :37011
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ firewall
```bash
sudo ufw status numbered
```

### –ê–Ω–∞–ª–∏–∑ –ø–æ—Ä—Ç–æ–≤
```bash
./analyze-ports.sh
```

## ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–í—Å–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø–æ—Ä—Ç—ã (7 —à—Ç—É–∫) –¥–æ–ª–∂–Ω—ã –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –æ—Ç–∫—Ä—ã—Ç—ã–º–∏** - –æ–Ω–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

2. **–ü–æ—Ä—Ç—ã Cursor Server (3 —à—Ç—É–∫–∏) –º–æ–∂–Ω–æ –∑–∞–∫—Ä—ã—Ç—å**, –µ—Å–ª–∏ –≤—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Cursor —á–µ—Ä–µ–∑ SSH. –û–Ω–∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã, –Ω–æ –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω—ã - –∑–∞–∫—Ä–æ–π—Ç–µ.

3. **Firewall –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ** - –≤—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ –ø–æ—Ä—Ç—ã –∑–∞—â–∏—â–µ–Ω—ã –ø—Ä–∞–≤–∏–ª–∞–º–∏ UFW.

4. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** –ú–∞–∫—Å–∏–º—É–º –º–æ–∂–Ω–æ –∑–∞–∫—Ä—ã—Ç—å 3 –ø–æ—Ä—Ç–∞ (Cursor Server), –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ –Ω—É–∂–Ω—ã. –≠—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ —Å–ª—É—à–∞—é—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ localhost.

## üéØ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# 1. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∞–Ω–∞–ª–∏–∑ –≤—Å–µ—Ö –ø–æ—Ä—Ç–æ–≤
./analyze-ports.sh

# 2. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
./optimize-ports.sh

# 3. –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å, —á—Ç–æ –±—É–¥–µ—Ç –∑–∞–∫—Ä—ã—Ç–æ (–±–µ–∑–æ–ø–∞—Å–Ω–æ)
./cleanup-ports.sh --dry-run

# 4. –ó–∞–∫—Ä—ã—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–æ—Ä—Ç—ã (–µ—Å–ª–∏ –µ—Å—Ç—å)
./cleanup-ports.sh

# 5. –ó–∞–∫—Ä—ã—Ç—å –ø–æ—Ä—Ç—ã Cursor Server (–µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω—ã)
./cleanup-ports.sh --kill-cursor
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–ü–æ–¥—Ä–æ–±–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≤—Å–µ—Ö –ø–æ—Ä—Ç–æ–≤ —Å–º. –≤ —Ñ–∞–π–ª–µ `PORTS_ANALYSIS.md`.
