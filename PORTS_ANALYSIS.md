# –ê–Ω–∞–ª–∏–∑ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ—Ä—Ç–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –æ—Ç–∫—Ä—ã—Ç–æ **10 –ø–æ—Ä—Ç–æ–≤**, –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö:
- **7 –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö** - –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **3 –ø–æ—Ä—Ç–∞ Cursor Server** - –¥–ª—è —Ä–∞–±–æ—Ç—ã Cursor —á–µ—Ä–µ–∑ SSH (—Å–ª—É—à–∞—é—Ç —Ç–æ–ª—å–∫–æ localhost)

## üîê –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –ø–æ—Ä—Ç—ã (–û–°–¢–ê–í–ò–¢–¨)

### –ü–æ—Ä—Ç 22 - SSH
- **–ü—Ä–æ—Ü–µ—Å—Å:** `sshd`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–¥–∞–ª–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É
- **–î–æ—Å—Ç—É–ø:** –ü—É–±–ª–∏—á–Ω—ã–π (0.0.0.0)
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ **–û–°–¢–ê–í–ò–¢–¨** - –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–æ–º
- **Firewall:** –†–∞–∑—Ä–µ—à–µ–Ω –≤ UFW

### –ü–æ—Ä—Ç 53 - DNS
- **–ü—Ä–æ—Ü–µ—Å—Å:** `systemd-resolved`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –¥–æ–º–µ–Ω–Ω—ã—Ö –∏–º–µ–Ω (–ª–æ–∫–∞–ª—å–Ω—ã–π DNS –∫—ç—à)
- **–î–æ—Å—Ç—É–ø:** –¢–æ–ª—å–∫–æ localhost (127.0.0.53)
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ **–û–°–¢–ê–í–ò–¢–¨** - —Å–∏—Å—Ç–µ–º–Ω—ã–π —Å–µ—Ä–≤–∏—Å
- **Firewall:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è (—Ç–æ–ª—å–∫–æ localhost)

### –ü–æ—Ä—Ç 80 - HTTP
- **–ü—Ä–æ—Ü–µ—Å—Å:** `nginx`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í–µ–±-—Å–µ—Ä–≤–µ—Ä HTTP
- **–î–æ—Å—Ç—É–ø:** –ü—É–±–ª–∏—á–Ω—ã–π (0.0.0.0)
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ **–û–°–¢–ê–í–ò–¢–¨** - –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è –≤–µ–±-–¥–æ—Å—Ç—É–ø–∞
- **Firewall:** –†–∞–∑—Ä–µ—à–µ–Ω –≤ UFW

### –ü–æ—Ä—Ç 443 - Xray VPN
- **–ü—Ä–æ—Ü–µ—Å—Å:** `xray`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** VPN —Å–µ—Ä–≤–µ—Ä –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ (VLESS + Reality)
- **–î–æ—Å—Ç—É–ø:** –ü—É–±–ª–∏—á–Ω—ã–π (0.0.0.0)
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ **–û–°–¢–ê–í–ò–¢–¨** - –æ—Å–Ω–æ–≤–Ω–æ–π VPN –ø–æ—Ä—Ç
- **Firewall:** –†–∞–∑—Ä–µ—à–µ–Ω –≤ UFW

### –ü–æ—Ä—Ç 3000 - Next.js Frontend
- **–ü—Ä–æ—Ü–µ—Å—Å:** `next-server`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Xray Report UI
- **–î–æ—Å—Ç—É–ø:** –ü—É–±–ª–∏—á–Ω—ã–π (0.0.0.0)
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ **–û–°–¢–ê–í–ò–¢–¨** - –æ—Å–Ω–æ–≤–Ω–æ–π UI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **Firewall:** –†–∞–∑—Ä–µ—à–µ–Ω –≤ UFW

### –ü–æ—Ä—Ç 8787 - Flask Backend API
- **–ü—Ä–æ—Ü–µ—Å—Å:** `python` (Flask)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Xray –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- **–î–æ—Å—Ç—É–ø:** –¢–æ–ª—å–∫–æ localhost (127.0.0.1)
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ **–û–°–¢–ê–í–ò–¢–¨** - –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **Firewall:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è (—Ç–æ–ª—å–∫–æ localhost)

### –ü–æ—Ä—Ç 10085 - Xray API
- **–ü—Ä–æ—Ü–µ—Å—Å:** `xray`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Xray (Stats API)
- **–î–æ—Å—Ç—É–ø:** –¢–æ–ª—å–∫–æ localhost (127.0.0.1)
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ **–û–°–¢–ê–í–ò–¢–¨** - –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Xray
- **Firewall:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è (—Ç–æ–ª—å–∫–æ localhost)

## üíª –ü–æ—Ä—Ç—ã Cursor Server (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û)

–≠—Ç–∏ –ø–æ—Ä—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Ä–∞–±–æ—Ç—ã Cursor IDE —á–µ—Ä–µ–∑ SSH. –û–Ω–∏ —Å–ª—É—à–∞—é—Ç **—Ç–æ–ª—å–∫–æ –Ω–∞ localhost (127.0.0.1)**, –ø–æ—ç—Ç–æ–º—É –±–µ–∑–æ–ø–∞—Å–Ω—ã –∏ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑–≤–Ω–µ.

### –ü–æ—Ä—Ç 37011 - Cursor Server Main
- **–ü—Ä–æ—Ü–µ—Å—Å:** `node` (Cursor Server Main)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä Cursor –¥–ª—è —Ä–∞–±–æ—Ç—ã —á–µ—Ä–µ–∑ SSH
- **–î–æ—Å—Ç—É–ø:** –¢–æ–ª—å–∫–æ localhost (127.0.0.1)
- **–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û** - –º–æ–∂–Ω–æ –∑–∞–∫—Ä—ã—Ç—å, –µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Cursor —á–µ—Ä–µ–∑ SSH
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û—Å—Ç–∞–≤–∏—Ç—å, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Cursor –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –ü–æ—Ä—Ç 40783 - Cursor Extension Host
- **–ü—Ä–æ—Ü–µ—Å—Å:** `node` (Cursor Extension Host)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –•–æ—Å—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π Cursor
- **–î–æ—Å—Ç—É–ø:** –¢–æ–ª—å–∫–æ localhost (127.0.0.1)
- **–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û** - –º–æ–∂–Ω–æ –∑–∞–∫—Ä—ã—Ç—å, –µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Cursor —á–µ—Ä–µ–∑ SSH
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û—Å—Ç–∞–≤–∏—Ç—å, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Cursor –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –ü–æ—Ä—Ç 46705 - Cursor Multiplex Server
- **–ü—Ä–æ—Ü–µ—Å—Å:** `node` (Cursor Multiplex Server)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ú—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä Cursor
- **–î–æ—Å—Ç—É–ø:** –¢–æ–ª—å–∫–æ localhost (127.0.0.1)
- **–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û** - –º–æ–∂–Ω–æ –∑–∞–∫—Ä—ã—Ç—å, –µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Cursor —á–µ—Ä–µ–∑ SSH
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û—Å—Ç–∞–≤–∏—Ç—å, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Cursor –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## üîß –ö–∞–∫ –∑–∞–∫—Ä—ã—Ç—å –ø–æ—Ä—Ç—ã Cursor Server

–ï—Å–ª–∏ –≤—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Cursor —á–µ—Ä–µ–∑ SSH, —ç—Ç–∏ –ø–æ—Ä—Ç—ã –º–æ–∂–Ω–æ –∑–∞–∫—Ä—ã—Ç—å:

```bash
# –ó–∞–∫—Ä—ã—Ç—å –ø–æ—Ä—Ç—ã Cursor Server
./cleanup-ports.sh --kill-cursor
```

**–í–ù–ò–ú–ê–ù–ò–ï:** –≠—Ç–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç —Ä–∞–±–æ—Ç—É Cursor —á–µ—Ä–µ–∑ SSH. –ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Cursor –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –æ—Å—Ç–∞–≤—å—Ç–µ —ç—Ç–∏ –ø–æ—Ä—Ç—ã –æ—Ç–∫—Ä—ã—Ç—ã–º–∏.

## üìã –°–≤–æ–¥–∫–∞

| –ü–æ—Ä—Ç | –ü—Ä–æ—Ü–µ—Å—Å | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –î–æ—Å—Ç—É–ø | –î–µ–π—Å—Ç–≤–∏–µ |
|------|---------|------------|--------|----------|
| 22 | sshd | SSH | –ü—É–±–ª–∏—á–Ω—ã–π | ‚úÖ –û–°–¢–ê–í–ò–¢–¨ |
| 53 | systemd-resolved | DNS | localhost | ‚úÖ –û–°–¢–ê–í–ò–¢–¨ |
| 80 | nginx | HTTP | –ü—É–±–ª–∏—á–Ω—ã–π | ‚úÖ –û–°–¢–ê–í–ò–¢–¨ |
| 443 | xray | VPN | –ü—É–±–ª–∏—á–Ω—ã–π | ‚úÖ –û–°–¢–ê–í–ò–¢–¨ |
| 3000 | next-server | Frontend | –ü—É–±–ª–∏—á–Ω—ã–π | ‚úÖ –û–°–¢–ê–í–ò–¢–¨ |
| 8787 | python | Backend API | localhost | ‚úÖ –û–°–¢–ê–í–ò–¢–¨ |
| 10085 | xray | Xray API | localhost | ‚úÖ –û–°–¢–ê–í–ò–¢–¨ |
| 37011 | node | Cursor Server | localhost | ‚ö†Ô∏è –û–ü–¶–ò–û–ù–ê–õ–¨–ù–û |
| 40783 | node | Cursor Extension | localhost | ‚ö†Ô∏è –û–ü–¶–ò–û–ù–ê–õ–¨–ù–û |
| 46705 | node | Cursor Multiplex | localhost | ‚ö†Ô∏è –û–ü–¶–ò–û–ù–ê–õ–¨–ù–û |

## üõ°Ô∏è Firewall (UFW)

–¢–µ–∫—É—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞ firewall:
- ‚úÖ **22/tcp** - SSH (—Ä–∞–∑—Ä–µ—à–µ–Ω)
- ‚úÖ **80** - HTTP (—Ä–∞–∑—Ä–µ—à–µ–Ω)
- ‚úÖ **3000** - Next.js Frontend (—Ä–∞–∑—Ä–µ—à–µ–Ω)
- ‚úÖ **443/tcp** - Xray VPN (—Ä–∞–∑—Ä–µ—à–µ–Ω)
- ‚ùå **9090** - –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
- ‚ùå **9100** - –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)

–í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ—Ä—Ç—ã –ª–∏–±–æ —Å–ª—É—à–∞—é—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ localhost (–±–µ–∑–æ–ø–∞—Å–Ω—ã), –ª–∏–±–æ –∑–∞–∫—Ä—ã—Ç—ã.

## üîç –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ—Ä—Ç–æ–≤
```bash
ss -tulpn | grep LISTEN
```

### –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ—Ä—Ç–µ
```bash
lsof -i :PORT
```

### –ê–Ω–∞–ª–∏–∑ –ø–æ—Ä—Ç–æ–≤ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π)
```bash
./analyze-ports.sh
```

### –û—á–∏—Å—Ç–∫–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–æ—Ä—Ç–æ–≤
```bash
./cleanup-ports.sh
```

### –û—á–∏—Å—Ç–∫–∞ –ø–æ—Ä—Ç–æ–≤ Cursor Server
```bash
./cleanup-ports.sh --kill-cursor
```

## ‚úÖ –í—ã–≤–æ–¥—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–í—Å–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø–æ—Ä—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã** - –∏—Ö –Ω–µ–ª—å–∑—è –∑–∞–∫—Ä—ã–≤–∞—Ç—å
2. **–ü–æ—Ä—Ç—ã Cursor Server –±–µ–∑–æ–ø–∞—Å–Ω—ã** - –æ–Ω–∏ —Å–ª—É—à–∞—é—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ localhost
3. **Firewall –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ** - –ø—É–±–ª–∏—á–Ω—ã–µ –ø–æ—Ä—Ç—ã –∑–∞—â–∏—â–µ–Ω—ã
4. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** –ï—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Cursor —á–µ—Ä–µ–∑ SSH, –º–æ–∂–Ω–æ –∑–∞–∫—Ä—ã—Ç—å 3 –ø–æ—Ä—Ç–∞ (37011, 40783, 46705)

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ü–æ—Ä—Ç—ã, —Å–ª—É—à–∞—é—â–∏–µ –Ω–∞ `127.0.0.1` (localhost), **–Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑–≤–Ω–µ** –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã
- –ü–æ—Ä—Ç—ã, —Å–ª—É—à–∞—é—â–∏–µ –Ω–∞ `0.0.0.0` –∏–ª–∏ `*`, **–¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑–≤–Ω–µ** –∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞—â–∏—â–µ–Ω—ã firewall
- –í—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ –ø–æ—Ä—Ç—ã (22, 80, 3000, 443) –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ UFW
- –ü–æ—Ä—Ç—ã Cursor Server –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è –ø—Ä–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏ SSH-—Å–µ—Å—Å–∏–∏
